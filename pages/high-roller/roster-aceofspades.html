<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Ace of Spades â€“ Roster</title>
<link rel="stylesheet" href="../../css/style.css">
</head>

<body class="page-transition blackjack-bg">

<header>
  <nav class="mainnav">
    <ul>
      <li><a href="../../index.html">Home</a></li>
      <li><a href="../raider.html">Raider</a></li>
      <li><a href="../hollowsoul.html">Spettatori</a></li>
      <li><a href="../recruiting.html">Reclutamento</a></li>
      <li><a href="../statuto.html">Statuto</a></li>
    </ul>
  </nav>
</header>

<nav class="subnav">
  <ul>
    <li><a href="../high-roller/aceofspades.html">Home Team</a></li>
    <li><a href="../high-roller/roster-aceofspades.html" class="active">Roster</a></li>
    <li><a href="../high-roller/aceofspades-news.html">News</a></li>
    <li><a href="../high-roller/aceofspades-progress.html">Progress</a></li>
  </ul>
</nav>

<section class="hero">
  <div class="hero-content">
    <h2>Roster Ace of Spades</h2>
    <p>Ruoli, specializzazioni e volti del team raid Blackjack.</p>
  </div>
</section>

<div class="bg-container bg-aceofspades-logo">
  <main class="panel">

    <h2 class="section-title">Roster Ace of Spades</h2>

    <div class="roster-grid roster-grid--two" id="roster-container"></div>

  </main>
</div>

<footer>
  <p>&copy; 2025 Blackjack</p>
</footer>

<!-- SCRIPT: COSTRUZIONE CARD DINAMICA -->
<script>
// LISTA DEI MEMBRI ACE OF SPADES
const members = [
  "odetta.html",
  "aqualara.html",
  "gearstrike.html",
  "zepyrot.html",
  "trolluido.html"
];

// Mappa ruoli
const roleMap = {
  "TANK": "role-tank",
  "HEALER": "role-healer",
  "DPS": "role-dps"
};

// Icone classi
function classIcon(name) {
  return `../../img/classes/${name.toLowerCase().replace(" ", "")}.png`;
}

const container = document.getElementById("roster-container");

// Caricamento dinamico
members.forEach(file => {
  fetch(`../../members/${file}`)
    .then(res => res.text())
    .then(html => {

      // Metadata
      const className = html.match(/data-class="([^"]+)"/)?.[1] ?? null;
      const roleName  = html.match(/data-role="([^"]+)"/)?.[1]?.toUpperCase() ?? null;
      const rioURL    = html.match(/data-rio="([^"]+)"/)?.[1] ?? null;

      container.innerHTML += `
        <div class="member-card">

          <div class="member-header">
            <div>${html}</div>
          </div>

          <div class="member-footer">
            <div class="footer-left">
              ${className ? `<img class="class-icon-small" src="${classIcon(className)}">` : ""}
              ${roleName ? `<span class="role-badge ${roleMap[roleName]}">${roleName}</span>` : ""}
            </div>

            <div class="footer-right">
              ${rioURL ? `
                <a href="${rioURL}" target="_blank" class="rio-btn rio-btn--compact">
                  <img src="../../img/raiderio_logo.png" class="rio-logo">
                </a>
              ` : ""}
            </div>
          </div>

        </div>`;
    })
    .catch(err => console.error("Errore caricando membro:", file, err));
});
</script>

<!-- PAGE TRANSITION -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.body.classList.add("page-loaded");
});
</script>

</body>
</html>
