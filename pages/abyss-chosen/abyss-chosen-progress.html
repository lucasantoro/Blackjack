<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Abyss Chosen – Progress</title>
<link rel="stylesheet" href="../../css/style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="page-transition abyss-bg">

<header>
<h1>Abyss Chosen</h1>
<nav>
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../raider.html">Raider</a></li>
    <li><a href="../hollowsoul.html">Hollow Soul</a></li>
    <li><a href="../recruiting.html">Reclutamento</a></li>
    <li><a href="../statuto.html">Statuto</a></li>
  </ul>
</nav>
</header>

<nav class="subnav">
  <ul>
    <li><a href="../abyss-chosen/abyss-chosen.html">Home Team</a></li>
    <li><a href="../abyss-chosen/roster-abyss.html">Roster</a></li>
    <li><a href="../abyss-chosen/abyss-chosen-news.html">News</a></li>
    <li><a href="../abyss-chosen/abyss-chosen-progress.html" class="active">Progress</a></li>
  </ul>
</nav>



<main class="panel progress-panel">


<!-- ==========================
        PARTE 1 — STATO TIER
=========================== -->
<section class="progress-tier">
  <h2>Stato del Tier</h2>
  <p>
    Gli <strong>Abyss Chosen</strong> affrontano i raid dell’espansione con un approccio
    tecnico, metodico e orientato al risultato.  
    Qui trovi l’overview generale del progress attuale.
  </p>

  <ul>
    <li><strong>Liberation of Undermine:</strong> HC 8/8 – Mythic 3/8</li>
    <li><strong>Manuforge Omega:</strong> HC 6/7 – Mythic 1/7</li>
    <li><strong>Nerub-ar Palace:</strong> HC 9/9 – Mythic 0/9</li>
  </ul>
</section>



<!-- ==========================
     PARTE 1.5 — PROGRESS STYLE
          GUILD OF WOW
=========================== -->

<section class="guildwow-progress">

  <h2>Progress Dettagliato</h2>

  <div class="raid-progress-block" id="raid-undermine">
    <h3>Liberation of Undermine</h3>

    <div class="progress-row">
      <div class="difficulty">NORMAL</div>
      <div class="progress-status" id="undermine-normal"></div>
      <div class="rank world"><span id="undermine-normal-world"></span></div>
      <div class="rank region"><span id="undermine-normal-region"></span></div>
      <div class="rank realm"><span id="undermine-normal-realm"></span></div>
    </div>

    <div class="progress-row">
      <div class="difficulty">HEROIC</div>
      <div class="progress-status" id="undermine-heroic"></div>
      <div class="rank world"><span id="undermine-heroic-world"></span></div>
      <div class="rank region"><span id="undermine-heroic-region"></span></div>
      <div class="rank realm"><span id="undermine-heroic-realm"></span></div>
    </div>

    <div class="progress-row">
      <div class="difficulty">MYTHIC</div>
      <div class="progress-status" id="undermine-mythic"></div>
      <div class="rank world"><span id="undermine-mythic-world"></span></div>
      <div class="rank region"><span id="undermine-mythic-region"></span></div>
      <div class="rank realm"><span id="undermine-mythic-realm"></span></div>
    </div>
  </div>

</section>




<!-- ==========================
        PARTE 2 — GRAFICO
=========================== -->
<section class="progress-chart-section">

  <h2 id="raidTitle">Liberation of Undermine</h2>

  <div class="chart-wrapper">
    <button class="chart-nav prev" type="button">◀</button>
    <canvas id="progressChart" width="400" height="220"></canvas>
    <button class="chart-nav next" type="button">▶</button>
  </div>

</section>



<!-- ==========================
       PARTE 3 — LOGS
=========================== -->
<section class="progress-logs">
  <h2>Warcraft Logs</h2>
  <p>Analizza fight, performance, strategie e miglioramenti del team.</p>

  <a href="https://www.warcraftlogs.com/" target="_blank" class="apply-button">
    Apri i Logs degli Abyss Chosen
  </a>
</section>


</main>




<footer>
<p>&copy; 2025 Delirium Tremens</p>
</footer>





<!-- ==========================
       SCRIPT FADE IN/OUT
=========================== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.body.classList.add("page-loaded");
});

document.querySelectorAll("a").forEach(link => {
  if (link.hostname === window.location.hostname) {
    link.addEventListener("click", function(e){
      e.preventDefault();
      const href = this.getAttribute("href");
      document.body.classList.remove("page-loaded");
      setTimeout(() => { window.location.href = href; }, 300);
    });
  }
});
</script>





<!-- ==========================
        SCRIPT DEI GRAFICI
=========================== -->
<script>
// CONFIGURA QUI LA TUA GILDA
const region = "eu";
const realm = "nemesis";
const guild = "DeliriumTremens";

// RAID DA IMPORTARE (slug Raider.IO)
const raidAPI = {
  undermine: "liberation-of-undermine",
  manuforge: "manuforge-omega",
  nerubar: "nerubar-palace"
};

// FUNZIONE PRINCIPALE
async function loadRaidProgress(raidKey, prefix) {
  const url = `https://raider.io/api/v1/guilds/profile?region=${region}&realm=${realm}&name=${encodeURIComponent(guild)}&fields=raid_rankings`;

  const response = await fetch(url);
  const data = await response.json();

  const raid = data.raid_rankings[raidAPI[raidKey]];
  if (!raid) return;

  // LIVELLI
  const difficulties = ["normal", "heroic", "mythic"];

  difficulties.forEach(diff => {
    
    // Progress basato su ranking progress (boss kill)
    const killed = raid[diff]?.progress_bosses_killed ?? 0;
    const total = raid[diff]?.total_bosses ?? 0;

    // Rank
    const world = raid[diff]?.world ?? "-";
    const region = raid[diff]?.region ?? "-";
    const realm = raid[diff]?.realm ?? "-";

    // FILL HTML
    document.getElementById(`${prefix}-${diff}`).textContent = `${killed} / ${total}`;
    document.getElementById(`${prefix}-${diff}-world`).textContent = `World: ${world}`;
    document.getElementById(`${prefix}-${diff}-region`).textContent = `Region: ${region}`;
    document.getElementById(`${prefix}-${diff}-realm`).textContent = `Realm: ${realm}`;
  });
}

// CARICA I RAID CHE VUOI
loadRaidProgress("undermine", "undermine");
// loadRaidProgress("manuforge", "manuforge");
// loadRaidProgress("nerubar", "nerubar");

</script>;






</body>
</html>
